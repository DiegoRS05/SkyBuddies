<app-header></app-header>

<main class="groups-page">
  <section class="content">
    <div class="page-header">
      <h1>YOUR GROUPS</h1>
      <div class="controls">
        <input
          type="text"
          [formControl]="searchControl"
          placeholder="Searching groups..."
          class="search-input"
        />
        <button class="btn-add" (click)="toggleNewForm()">ï¼‹ New Group</button>
      </div>
    </div>

    <div *ngIf="showNewForm" @formSlide class="new-group-form">
      <form [formGroup]="newGroupForm" (ngSubmit)="submitNewGroup()">
        <input formControlName="name" placeholder="Group's name" />
        <select formControlName="visibility">
          <option value="public">Public</option>
          <option value="private">Private</option>
        </select>
        <input formControlName="members" placeholder="Members (coma-separated)" />
        <button type="submit" [disabled]="newGroupForm.invalid">Create Group</button>
      </form>
    </div>

    <div class="groups-grid" @listAnim>
      <div
        *ngFor="let g of groups"
        class="group-card"
        [@cardHover]="hoverState[g.id]"
        (mouseenter)="onCardEnter(g.id)"
        (mouseleave)="onCardLeave(g.id)"
        [routerLink]="['/groups', g.id]"
      >
        <h2>{{ g.name }}</h2>
        <p>{{ g.members.length }} miembro(s)</p>
        <span class="visibility">{{ g.visibility | titlecase }}</span>
      </div>
      <div *ngIf="groups.length===0" class="no-results">
        No se encontraron grupos.
      </div>
    </div>
  </section>
</main>

<app-footer></app-footer>
